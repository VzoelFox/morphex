Morph Kernel Design (v0.2) - Print & Emit

Base Address: 0x600100 (Offset 256 from load base)

--- Function Map ---
1. printmorph (0x600100)
   - Input: rdi (buffer), rsi (len)
   - Output: stdout write
   - Size: 19 bytes (sampai 0x600113)

2. print_hex (0x600120) - [New]
   - Input: rax (value to print)
   - Output: Print "0x" + 16 chars hex + newline
   - Logic:
     - Push registers
     - Convert rax nibbles to ASCII loop -> Store to Stack Buffer
     - Syscall write buffer
     - Pop registers
   - Note: Ini kompleks di hex manual. Untuk v0.2 kita skip dulu, fokus ke emitter.

3. emit_byte (0x600160) - [New]
   - Input: dl (byte to write)
   - Global State: r15 (Current Emit Pointer)
   - Logic:
     - mov [r15], dl
     - inc r15
     - ret

4. emit_dword (0x600180) - [New]
   - Input: edx (dword to write)
   - Global State: r15
   - Logic:
     - mov [r15], edx
     - add r15, 4
     - ret

--- Memory Layout for App ---
0x600000: Header VZOELFOX
0x600008: App Code Start
...
0x600100: Kernel Code Start
...
0x600500: Emit Buffer (Area aman untuk menaruh kode hasil generate)

--- Rencana Assemblage Core Extended ---
Padding NOP antara fungsi sangat penting agar alamat aligned sesuai desain (0x100, 0x160, 0x180).
